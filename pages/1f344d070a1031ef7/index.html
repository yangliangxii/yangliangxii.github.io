<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue3源码解析(V3.2.45)-介绍及构建流程搭建 | 追光学院</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/day-logo.png">
    <meta name="description" content="技术博客,技术文档,知识库,元宇宙,区块链,大数据,数字孪生,game,xr,vr,mr,ar,JavaScript,Unity3d,3dsmax,maya,blender,ps,photoshop,u3d,Unity,js,ES6,TypeScript,vue,React,python,css3,html5,Node,C#,C++,git,github,markdown,gitee,游戏,面试等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,unity3d,u3d,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.482b2b4f.css" as="style"><link rel="preload" href="/assets/js/app.d17989d2.js" as="script"><link rel="preload" href="/assets/js/2.712e115f.js" as="script"><link rel="preload" href="/assets/js/190.c11d9b2b.js" as="script"><link rel="prefetch" href="/assets/js/10.9edcf5ca.js"><link rel="prefetch" href="/assets/js/100.1f789e7a.js"><link rel="prefetch" href="/assets/js/101.7472b68d.js"><link rel="prefetch" href="/assets/js/102.8ac979fe.js"><link rel="prefetch" href="/assets/js/103.f309b35a.js"><link rel="prefetch" href="/assets/js/104.05a4f9da.js"><link rel="prefetch" href="/assets/js/105.67eef9ca.js"><link rel="prefetch" href="/assets/js/106.4b4b4e56.js"><link rel="prefetch" href="/assets/js/107.79cdfa32.js"><link rel="prefetch" href="/assets/js/108.5e029163.js"><link rel="prefetch" href="/assets/js/109.5ecd7ba1.js"><link rel="prefetch" href="/assets/js/11.8626b198.js"><link rel="prefetch" href="/assets/js/110.589e54b6.js"><link rel="prefetch" href="/assets/js/111.029ba83d.js"><link rel="prefetch" href="/assets/js/112.0c0b4dda.js"><link rel="prefetch" href="/assets/js/113.5219d1e3.js"><link rel="prefetch" href="/assets/js/114.4bcd4808.js"><link rel="prefetch" href="/assets/js/115.dd7755af.js"><link rel="prefetch" href="/assets/js/116.1aa94951.js"><link rel="prefetch" href="/assets/js/117.84f8b5d2.js"><link rel="prefetch" href="/assets/js/118.1b3e6ca4.js"><link rel="prefetch" href="/assets/js/119.32637476.js"><link rel="prefetch" href="/assets/js/12.c574e103.js"><link rel="prefetch" href="/assets/js/120.34f3c504.js"><link rel="prefetch" href="/assets/js/121.c9374de7.js"><link rel="prefetch" href="/assets/js/122.46edef0b.js"><link rel="prefetch" href="/assets/js/123.006cbc56.js"><link rel="prefetch" href="/assets/js/124.5e590e2e.js"><link rel="prefetch" href="/assets/js/125.a6bd42e5.js"><link rel="prefetch" href="/assets/js/126.ed70432e.js"><link rel="prefetch" href="/assets/js/127.2202ac2d.js"><link rel="prefetch" href="/assets/js/128.5fdf52b5.js"><link rel="prefetch" href="/assets/js/129.4bedf3cf.js"><link rel="prefetch" href="/assets/js/13.614e2dea.js"><link rel="prefetch" href="/assets/js/130.8ba2f60d.js"><link rel="prefetch" href="/assets/js/131.3d00463e.js"><link rel="prefetch" href="/assets/js/132.b8e53b84.js"><link rel="prefetch" href="/assets/js/133.6dc25a70.js"><link rel="prefetch" href="/assets/js/134.2629912e.js"><link rel="prefetch" href="/assets/js/135.efcd1080.js"><link rel="prefetch" href="/assets/js/136.4fca9886.js"><link rel="prefetch" href="/assets/js/137.11c8e6a7.js"><link rel="prefetch" href="/assets/js/138.b9b42e46.js"><link rel="prefetch" href="/assets/js/139.b3b327a1.js"><link rel="prefetch" href="/assets/js/14.b7ddf57a.js"><link rel="prefetch" href="/assets/js/140.ae922064.js"><link rel="prefetch" href="/assets/js/141.f8f93282.js"><link rel="prefetch" href="/assets/js/142.e4f5aca4.js"><link rel="prefetch" href="/assets/js/143.3361892b.js"><link rel="prefetch" href="/assets/js/144.0bd4a365.js"><link rel="prefetch" href="/assets/js/145.fd37767a.js"><link rel="prefetch" href="/assets/js/146.347d41b0.js"><link rel="prefetch" href="/assets/js/147.399c1ca8.js"><link rel="prefetch" href="/assets/js/148.b9ff63b1.js"><link rel="prefetch" href="/assets/js/149.42511086.js"><link rel="prefetch" href="/assets/js/15.c3bdac00.js"><link rel="prefetch" href="/assets/js/150.4939862d.js"><link rel="prefetch" href="/assets/js/151.212bbb0d.js"><link rel="prefetch" href="/assets/js/152.568f5002.js"><link rel="prefetch" href="/assets/js/153.7ef1d12c.js"><link rel="prefetch" href="/assets/js/154.2c3f6002.js"><link rel="prefetch" href="/assets/js/155.48e4f77f.js"><link rel="prefetch" href="/assets/js/156.05c515ff.js"><link rel="prefetch" href="/assets/js/157.10ddeb63.js"><link rel="prefetch" href="/assets/js/158.67dfeeb8.js"><link rel="prefetch" href="/assets/js/159.4b263f66.js"><link rel="prefetch" href="/assets/js/16.7cfa37ef.js"><link rel="prefetch" href="/assets/js/160.6a99c3cb.js"><link rel="prefetch" href="/assets/js/161.fc500ab6.js"><link rel="prefetch" href="/assets/js/162.88070ebb.js"><link rel="prefetch" href="/assets/js/163.fb8882b7.js"><link rel="prefetch" href="/assets/js/164.845de1e5.js"><link rel="prefetch" href="/assets/js/165.4a97dcbb.js"><link rel="prefetch" href="/assets/js/166.e0281360.js"><link rel="prefetch" href="/assets/js/167.f6d26271.js"><link rel="prefetch" href="/assets/js/168.8d19142f.js"><link rel="prefetch" href="/assets/js/169.ad90a68f.js"><link rel="prefetch" href="/assets/js/17.42bf6f8e.js"><link rel="prefetch" href="/assets/js/170.30e71b24.js"><link rel="prefetch" href="/assets/js/171.51c5ff28.js"><link rel="prefetch" href="/assets/js/172.8833f002.js"><link rel="prefetch" href="/assets/js/173.1241ff20.js"><link rel="prefetch" href="/assets/js/174.ffe6105d.js"><link rel="prefetch" href="/assets/js/175.14da7276.js"><link rel="prefetch" href="/assets/js/176.b27f5651.js"><link rel="prefetch" href="/assets/js/177.9da9a8f0.js"><link rel="prefetch" href="/assets/js/178.45baa14c.js"><link rel="prefetch" href="/assets/js/179.0de38c43.js"><link rel="prefetch" href="/assets/js/18.b784c650.js"><link rel="prefetch" href="/assets/js/180.1f7b7227.js"><link rel="prefetch" href="/assets/js/181.ca6370a1.js"><link rel="prefetch" href="/assets/js/182.227e07a1.js"><link rel="prefetch" href="/assets/js/183.b7f5c8f8.js"><link rel="prefetch" href="/assets/js/184.26f0e043.js"><link rel="prefetch" href="/assets/js/185.2165a04f.js"><link rel="prefetch" href="/assets/js/186.c67062fd.js"><link rel="prefetch" href="/assets/js/187.6d67009a.js"><link rel="prefetch" href="/assets/js/188.eec0a670.js"><link rel="prefetch" href="/assets/js/189.62e68ffa.js"><link rel="prefetch" href="/assets/js/19.b3ab641c.js"><link rel="prefetch" href="/assets/js/191.dea5ba2a.js"><link rel="prefetch" href="/assets/js/192.d9120c98.js"><link rel="prefetch" href="/assets/js/193.ffb03ac7.js"><link rel="prefetch" href="/assets/js/194.19933997.js"><link rel="prefetch" href="/assets/js/195.49ac9cf0.js"><link rel="prefetch" href="/assets/js/196.b7153beb.js"><link rel="prefetch" href="/assets/js/197.8f2ad908.js"><link rel="prefetch" href="/assets/js/198.fcab115c.js"><link rel="prefetch" href="/assets/js/199.d463b8c2.js"><link rel="prefetch" href="/assets/js/20.38cd27f5.js"><link rel="prefetch" href="/assets/js/200.81293180.js"><link rel="prefetch" href="/assets/js/201.e438a2d1.js"><link rel="prefetch" href="/assets/js/202.2112ed05.js"><link rel="prefetch" href="/assets/js/203.5206e9e0.js"><link rel="prefetch" href="/assets/js/204.2ac1bb25.js"><link rel="prefetch" href="/assets/js/205.ed067a75.js"><link rel="prefetch" href="/assets/js/206.13dc4082.js"><link rel="prefetch" href="/assets/js/207.4c39d873.js"><link rel="prefetch" href="/assets/js/208.dac46aeb.js"><link rel="prefetch" href="/assets/js/209.c5e68b8e.js"><link rel="prefetch" href="/assets/js/21.c5fa79d4.js"><link rel="prefetch" href="/assets/js/210.3d96e06a.js"><link rel="prefetch" href="/assets/js/211.dbcbf07b.js"><link rel="prefetch" href="/assets/js/212.30a65f87.js"><link rel="prefetch" href="/assets/js/213.73a8129c.js"><link rel="prefetch" href="/assets/js/214.1df72b97.js"><link rel="prefetch" href="/assets/js/215.efc2691e.js"><link rel="prefetch" href="/assets/js/216.5817f17e.js"><link rel="prefetch" href="/assets/js/217.341c3d1c.js"><link rel="prefetch" href="/assets/js/218.1d10ae5c.js"><link rel="prefetch" href="/assets/js/219.0cbb06c2.js"><link rel="prefetch" href="/assets/js/22.c5329517.js"><link rel="prefetch" href="/assets/js/220.5623ba6c.js"><link rel="prefetch" href="/assets/js/221.cb240967.js"><link rel="prefetch" href="/assets/js/222.545bc7fd.js"><link rel="prefetch" href="/assets/js/223.f86552aa.js"><link rel="prefetch" href="/assets/js/224.e9feb714.js"><link rel="prefetch" href="/assets/js/23.10cdcaa0.js"><link rel="prefetch" href="/assets/js/24.8daade5f.js"><link rel="prefetch" href="/assets/js/25.13c56740.js"><link rel="prefetch" href="/assets/js/26.d189beaa.js"><link rel="prefetch" href="/assets/js/27.0b031f71.js"><link rel="prefetch" href="/assets/js/28.000d4531.js"><link rel="prefetch" href="/assets/js/29.327569d8.js"><link rel="prefetch" href="/assets/js/3.82a02715.js"><link rel="prefetch" href="/assets/js/30.3a2182d4.js"><link rel="prefetch" href="/assets/js/31.0bab3c06.js"><link rel="prefetch" href="/assets/js/32.f092cd95.js"><link rel="prefetch" href="/assets/js/33.0d3a2358.js"><link rel="prefetch" href="/assets/js/34.0c4afca7.js"><link rel="prefetch" href="/assets/js/35.69453060.js"><link rel="prefetch" href="/assets/js/36.0ddf51c1.js"><link rel="prefetch" href="/assets/js/37.730bd407.js"><link rel="prefetch" href="/assets/js/38.db3d11d6.js"><link rel="prefetch" href="/assets/js/39.25918cd4.js"><link rel="prefetch" href="/assets/js/4.dbdcbb72.js"><link rel="prefetch" href="/assets/js/40.68859931.js"><link rel="prefetch" href="/assets/js/41.646c19cd.js"><link rel="prefetch" href="/assets/js/42.98c6afc8.js"><link rel="prefetch" href="/assets/js/43.11295cb2.js"><link rel="prefetch" href="/assets/js/44.d2e104ff.js"><link rel="prefetch" href="/assets/js/45.df1852b6.js"><link rel="prefetch" href="/assets/js/46.389aed05.js"><link rel="prefetch" href="/assets/js/47.1782313c.js"><link rel="prefetch" href="/assets/js/48.1e8eb7f5.js"><link rel="prefetch" href="/assets/js/49.5e790add.js"><link rel="prefetch" href="/assets/js/5.c1cbc569.js"><link rel="prefetch" href="/assets/js/50.ee4c8c2b.js"><link rel="prefetch" href="/assets/js/51.c1844750.js"><link rel="prefetch" href="/assets/js/52.5460487a.js"><link rel="prefetch" href="/assets/js/53.7214f9e2.js"><link rel="prefetch" href="/assets/js/54.3d606c36.js"><link rel="prefetch" href="/assets/js/55.d49ece1f.js"><link rel="prefetch" href="/assets/js/56.46f4415f.js"><link rel="prefetch" href="/assets/js/57.5f114994.js"><link rel="prefetch" href="/assets/js/58.b03ff963.js"><link rel="prefetch" href="/assets/js/59.8f23f6c6.js"><link rel="prefetch" href="/assets/js/6.dfb8d436.js"><link rel="prefetch" href="/assets/js/60.3c5edfc6.js"><link rel="prefetch" href="/assets/js/61.27aa38f0.js"><link rel="prefetch" href="/assets/js/62.15ea522d.js"><link rel="prefetch" href="/assets/js/63.86aec892.js"><link rel="prefetch" href="/assets/js/64.1d548a69.js"><link rel="prefetch" href="/assets/js/65.f5fe10a7.js"><link rel="prefetch" href="/assets/js/66.e3e87bcf.js"><link rel="prefetch" href="/assets/js/67.2f8f910e.js"><link rel="prefetch" href="/assets/js/68.444ea631.js"><link rel="prefetch" href="/assets/js/69.45f25e5d.js"><link rel="prefetch" href="/assets/js/7.617779d1.js"><link rel="prefetch" href="/assets/js/70.bea45df0.js"><link rel="prefetch" href="/assets/js/71.6d485ce1.js"><link rel="prefetch" href="/assets/js/72.a97c198a.js"><link rel="prefetch" href="/assets/js/73.bd7c298c.js"><link rel="prefetch" href="/assets/js/74.f880265e.js"><link rel="prefetch" href="/assets/js/75.3da0d7f7.js"><link rel="prefetch" href="/assets/js/76.6e6ee208.js"><link rel="prefetch" href="/assets/js/77.b43a2697.js"><link rel="prefetch" href="/assets/js/78.0ac13301.js"><link rel="prefetch" href="/assets/js/79.e8d7da5e.js"><link rel="prefetch" href="/assets/js/8.0e149fc8.js"><link rel="prefetch" href="/assets/js/80.8bbfe3e1.js"><link rel="prefetch" href="/assets/js/81.a2241e25.js"><link rel="prefetch" href="/assets/js/82.35777909.js"><link rel="prefetch" href="/assets/js/83.5478ca41.js"><link rel="prefetch" href="/assets/js/84.fc529abc.js"><link rel="prefetch" href="/assets/js/85.15417f40.js"><link rel="prefetch" href="/assets/js/86.48907161.js"><link rel="prefetch" href="/assets/js/87.2555ac71.js"><link rel="prefetch" href="/assets/js/88.287d564b.js"><link rel="prefetch" href="/assets/js/89.0a3dc7c4.js"><link rel="prefetch" href="/assets/js/9.897322f3.js"><link rel="prefetch" href="/assets/js/90.afafffa7.js"><link rel="prefetch" href="/assets/js/91.7854fdcb.js"><link rel="prefetch" href="/assets/js/92.8e9f4691.js"><link rel="prefetch" href="/assets/js/93.d0426ae9.js"><link rel="prefetch" href="/assets/js/94.68aa889a.js"><link rel="prefetch" href="/assets/js/95.6a7867af.js"><link rel="prefetch" href="/assets/js/96.ece80e3b.js"><link rel="prefetch" href="/assets/js/97.99a4cbf6.js"><link rel="prefetch" href="/assets/js/98.6bc8485e.js"><link rel="prefetch" href="/assets/js/99.52f0c029.js">
    <link rel="stylesheet" href="/assets/css/0.styles.482b2b4f.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/day-logo.png" alt="追光学院" class="logo"> <span class="site-name can-hide">追光学院</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WEB" class="dropdown-title"><a href="/web/" class="link-title">WEB</a> <span class="title" style="display:none;">WEB</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>原创文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8143cc480faf9a11/" class="nav-link">JavaScript学习心得</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/html5/" class="nav-link">HTML/CSS教程</a></li><li class="dropdown-subitem"><a href="/note/javascript-base/" class="nav-link">JavaScript基础教程</a></li><li class="dropdown-subitem"><a href="/note/javascript-advance/" class="nav-link">JavaScript高级教程</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">ES6教程</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">Vue教程</a></li><li class="dropdown-subitem"><a href="/note/react/" class="nav-link">React教程</a></li><li class="dropdown-subitem"><a href="/note/vue3-src/" class="nav-link">Vue3源码解析</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">TypeScript教程</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UNITY" class="dropdown-title"><a href="/unity/" class="link-title">UNITY</a> <span class="title" style="display:none;">UNITY</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>原创文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/unity/" class="nav-link">快速搭建大屏可视化项目</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/unity/" class="nav-link">基础教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">进阶教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">UnityShaderLab高级教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">可编程渲染管线之URP教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">可编程渲染管线之HDRP教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">可编程渲染管线之SRP教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">TA进阶</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">框架剖析</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UREAL" class="dropdown-title"><a href="/ureal/" class="link-title">UREAL</a> <span class="title" style="display:none;">UREAL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>原创文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">快速搭建大屏可视化项目</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">基础教程</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">进阶教程</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">蓝图高级教程</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">TA进阶</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">框架剖析</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/webgl/" class="nav-link">WEBGL</a></div><div class="nav-item"><a href="/xr/" class="nav-link">XR</a></div><div class="nav-item"><a href="/largedata/" class="nav-link">大数据</a></div><div class="nav-item"><a href="/digitaltwin/" class="nav-link">数字孪生</a></div><div class="nav-item"><a href="/ai/" class="nav-link">人工智能</a></div><div class="nav-item"><a href="/blockchain/" class="nav-link">区块链</a></div><div class="nav-item"><a href="/meta/" class="nav-link">元宇宙</a></div><div class="nav-item"><a href="/art/" class="nav-link">视觉艺术</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="团队工具" class="dropdown-title"><a href="/team/" class="link-title">团队工具</a> <span class="title" style="display:none;">团队工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/git/" class="nav-link">git</a></li></ul></div></div><div class="nav-item"><a href="/book/" class="nav-link">科幻书屋</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/yangliangxii/blogsitecode" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avator.jpg"> <div class="blogger-info"><h3>Yang Liangxi</h3> <span>技术改变世界</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="WEB" class="dropdown-title"><a href="/web/" class="link-title">WEB</a> <span class="title" style="display:none;">WEB</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>原创文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/8143cc480faf9a11/" class="nav-link">JavaScript学习心得</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/html5/" class="nav-link">HTML/CSS教程</a></li><li class="dropdown-subitem"><a href="/note/javascript-base/" class="nav-link">JavaScript基础教程</a></li><li class="dropdown-subitem"><a href="/note/javascript-advance/" class="nav-link">JavaScript高级教程</a></li><li class="dropdown-subitem"><a href="/note/es6/" class="nav-link">ES6教程</a></li><li class="dropdown-subitem"><a href="/note/vue/" class="nav-link">Vue教程</a></li><li class="dropdown-subitem"><a href="/note/react/" class="nav-link">React教程</a></li><li class="dropdown-subitem"><a href="/note/vue3-src/" class="nav-link">Vue3源码解析</a></li><li class="dropdown-subitem"><a href="/note/typescript-axios/" class="nav-link">TypeScript教程</a></li><li class="dropdown-subitem"><a href="/pages/4643cd/" class="nav-link">JS设计模式总结</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UNITY" class="dropdown-title"><a href="/unity/" class="link-title">UNITY</a> <span class="title" style="display:none;">UNITY</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>原创文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/unity/" class="nav-link">快速搭建大屏可视化项目</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/unity/" class="nav-link">基础教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">进阶教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">UnityShaderLab高级教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">可编程渲染管线之URP教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">可编程渲染管线之HDRP教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">可编程渲染管线之SRP教程</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">TA进阶</a></li><li class="dropdown-subitem"><a href="/unity/" class="nav-link">框架剖析</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UREAL" class="dropdown-title"><a href="/ureal/" class="link-title">UREAL</a> <span class="title" style="display:none;">UREAL</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>原创文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">快速搭建大屏可视化项目</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">基础教程</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">进阶教程</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">性能优化</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">蓝图高级教程</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">TA进阶</a></li><li class="dropdown-subitem"><a href="/ureal/" class="nav-link">框架剖析</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/webgl/" class="nav-link">WEBGL</a></div><div class="nav-item"><a href="/xr/" class="nav-link">XR</a></div><div class="nav-item"><a href="/largedata/" class="nav-link">大数据</a></div><div class="nav-item"><a href="/digitaltwin/" class="nav-link">数字孪生</a></div><div class="nav-item"><a href="/ai/" class="nav-link">人工智能</a></div><div class="nav-item"><a href="/blockchain/" class="nav-link">区块链</a></div><div class="nav-item"><a href="/meta/" class="nav-link">元宇宙</a></div><div class="nav-item"><a href="/art/" class="nav-link">视觉艺术</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="团队工具" class="dropdown-title"><a href="/team/" class="link-title">团队工具</a> <span class="title" style="display:none;">团队工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/note/git/" class="nav-link">git</a></li></ul></div></div><div class="nav-item"><a href="/book/" class="nav-link">科幻书屋</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/yangliangxii/blogsitecode" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/1f344d070a1031ef7/" aria-current="page" class="active sidebar-link">Vue3源码解析(V3.2.45)-介绍及构建流程搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/1f344d070a1031ef7/#区别介绍" class="sidebar-link">区别介绍</a></li><li class="sidebar-sub-header level2"><a href="/pages/1f344d070a1031ef7/#架构分析" class="sidebar-link">架构分析</a></li><li class="sidebar-sub-header level2"><a href="/pages/1f344d070a1031ef7/#环境搭建" class="sidebar-link">环境搭建</a></li><li class="sidebar-sub-header level2"><a href="/pages/1f344d070a1031ef7/#包之间相互引用" class="sidebar-link">包之间相互引用</a></li></ul></li><li><a href="/pages/2f344d070a1031ef7/" class="sidebar-link">Vue3源码解析(V3.2.45)-响应式源码分析与实现</a></li><li><a href="/pages/3f344d070a1031ef7/" class="sidebar-link">Vue3源码解析(V3.2.45)-渲染原理及diff算法</a></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/note/vue3-src/#Vue3源码解析" data-v-06225672>Vue3源码解析</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>Yang Liangxi</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-12-06</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Vue3源码解析(V3.2.45)-介绍及构建流程搭建<!----></h1>  <div class="theme-vdoing-content content__default"><blockquote><p>说明：本章内容为博主在原教程基础上添加自己的学习笔记，来源<a href="https://www.bilibili.com/video/BV1KB4y1g7jb?vd_source=a776fb95f6de3e1354e0f23cebc134d3" target="_blank" rel="noopener noreferrer">珠峰架构Vue3课程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，版权归原作者所有。</p></blockquote> <h1 id="vue3介绍及构建流程搭建"><a href="#vue3介绍及构建流程搭建" class="header-anchor">#</a> Vue3介绍及构建流程搭建</h1> <h2 id="区别介绍"><a href="#区别介绍" class="header-anchor">#</a> 区别介绍</h2> <ul><li>源码采用monorepo方式进行管理，将模块拆分到packages目录中</li> <li>vue3采用ts开发，增强类型检查，vue2则采用flow</li> <li>vue3的性能优化，支持tree-shaking，打包时会剔除未被使用的代码
<ul><li>vue3劫持数据采用es6 Proxy，支持数组；vue2采用defineProperty，而defineProperty有性能问题和缺陷，不支持数组，需单独处理</li> <li>vue3中对模板编译进行了优化，编译时生成了Block tree，可以对子节点的动态节点进行收集，可以减少比较，并且采用了patchFlag标记动态节点</li> <li>vue3使用组合式api，vue2使用配置式api，用户提供的data，props，computed，methods，watch等属性，用户编写复杂的逻辑时会在这些属性间频繁横跳</li> <li>vue2所有的属性都通过this指向，复杂逻辑会造成指向不明确问题</li> <li>vue2使用mixins实现组件间的逻辑共享，但会有数据来源不明确，命名冲突等问题，vue3使用composition api提供公共逻辑非常方便</li></ul></li> <li>vue2后期引入RFC，使每个版本改动可控rfcs</li> <li>vue3新增了Fragment，Teleport，Suspense组件</li></ul> <div class="custom-block tip"><p class="custom-block-title">monorepo优点</p> <ul><li>monorepo是项目管理的一个方式，在一个项目仓库中管理多个包/模块，将代码拆分到各个模块package中</li> <li>一个仓库维护多个模块，不用到处找仓库</li> <li>方便版本管理和依赖管理，模块之间的调用和引用都非常方便</li> <li>模块扩展非常方便</li></ul></div> <div class="custom-block tip"><p class="custom-block-title">tree-shaking介绍</p> <ul><li>tree-shaking是一种消除死代码的性能优化理论，最初由rollup提出概念，目前支持的工具有：rollup，webpack2，closure complier等</li> <li>tree-shaking实现原理
<ul><li>tree-shaking的本质是消除无用的js代码，同时它也是DCE(Dead Code Elimination)的一种新的实现</li> <li>与传统语言不同的，JavaScript加载由于受网络影响使得DCE具有更重要的意义，毕竟JS文件越小加载时间越短</li> <li>具体实现DCE的并不是之前提到的三个工具，而是代码压缩优化工具uglify</li> <li>tree-shaking是基于es6的模块特性，这也是该工具之前不能流行的原因</li></ul></li></ul></div> <div class="custom-block tip"><p class="custom-block-title">uglify特征</p> <ul><li>函数消除：rollup与webpack2都可以实现，rollup相对效率更高</li> <li>类消除：rollup与webpack2都无法实现</li> <li>rollup只处理函数和顶层的import/export变量，不能把没用到的类的方法消除掉</li> <li>uglify不能跨文件消除代码</li></ul></div> <div class="custom-block danger"><p class="custom-block-title">tree-shaking副作用</p> <ul><li>side effects是指那些当import的时候会执行一些动作，但是不一定会有任何export，比如ployfill，ployfills不对外暴露方法给主程序使用</li> <li>tree-shaking不能自动的识别哪些代码属于side effects，因此手动指定这些代码显得非常重要，如果不指定可能会出现一些意想不到的问题</li></ul></div> <h2 id="架构分析"><a href="#架构分析" class="header-anchor">#</a> 架构分析</h2> <ul><li>采用monorepo管理项目</li> <li>项目结构
<ul><li>reactivity响应式系统</li> <li>runtime-core与平台无关的运行时核心(可以借助其他运行时创建针对特定平台的运行时)</li> <li>runtime-dom针对浏览器的运行时，包括dom api 、属性处理、事件处理等</li> <li>runtime-test用于测试</li> <li>server-renderer用于服务端渲染</li> <li>compiler-core与平台无关的编译器核心</li> <li>compiler-dom针对浏览器的编译器</li> <li>compiler-ssr针对服务端渲染的编译器模块</li> <li>compiler-sfc针对单文件解析的编译器模块</li> <li>size-check用来测试代码体积</li> <li>template-explorer用于调试编译器输出的开发工具</li> <li>shared多个包之间共享的内容</li> <li>vue完整版包括编译器和运行时</li></ul></li></ul> <p><img src="/img/vue3-src-jiagou.png" alt="vue3源码工程结构图"> <center><strong>vue3架构图</strong></center></p> <h2 id="环境搭建"><a href="#环境搭建" class="header-anchor">#</a> 环境搭建</h2> <div class="custom-block tip"><p class="custom-block-title">node version： v16.17.1</p></div> <ul><li>Step 0 - 创建<code>test-vue3-src</code>项目根目录</li> <li>Step 1 - 根目录下执行<code>yarn init -y</code>命令初始化项目</li> <li>Step 2 - 根目录下创建<code>packages</code>目录</li> <li>Step 3 - 创建如下目录并执行命令<code>yarn init -y</code>初始化
<ul><li>packages/reactivity</li> <li>packages/shared</li> <li>packages/runtime-core</li> <li>packages/runtime-dom</li> <li>其他包名</li></ul></li> <li>Step 4 - 在每个<code>/packages/*/src/</code>目录下新建<code>index.ts</code>文件</li> <li>Step 5 - 在根目录下执行命令<code>npx tsc --init</code>生成<code>tsconfig.json</code>文件</li></ul> <div class="language-reactivity包package.json line-numbers-mode"><pre class="language-text"><code>  {
      &quot;name&quot;: &quot;@vue/reactivity&quot;,//将所有的包都统一放置在@vue下
      &quot;version&quot;: &quot;1.0.0&quot;,
      &quot;main&quot;: &quot;index.js&quot;,//commonjs入口
      &quot;module&quot;: &quot;dist/reactivity.esm-bundler.js&quot;,//webpack入口
      &quot;unpkg&quot;: &quot;dist/reactivity.global.js&quot;,//window入口
      &quot;license&quot;: &quot;MIT&quot;,
      &quot;buildOptions&quot;: {//自定义配置项
          &quot;name&quot;: &quot;VueReactivity&quot;,//global全局模块的名字，如果不打包global可以不起名字
          &quot;formats&quot;: [//当前包(模块)可以构建成的格式有哪些
              &quot;esm-bundler&quot;,//es6模块，es6用法 &lt;script type='modual'&gt;这样可以使用es6语法&lt;/script&gt;
              &quot;cjs&quot;,//commonjs模块，node平台下使用
              &quot;global&quot;//全局模块，浏览器直接&lt;srcrip src='VueReactivity.global.js'&gt;这样就直接引入了js中的东西&lt;/script&gt;引入
          ]
      }
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><center>reactivity包package.json</center> <div class="language-shared包package.json line-numbers-mode"><pre class="language-text"><code>  {
      &quot;name&quot;: &quot;@vue/shared&quot;,
      &quot;version&quot;: &quot;1.0.0&quot;,
      &quot;main&quot;: &quot;index.js&quot;,
      &quot;module&quot;: &quot;dist/shared.esm-bundler.js&quot;,
      &quot;license&quot;: &quot;MIT&quot;,
      &quot;buildOptions&quot;: {
          &quot;name&quot;: &quot;VueShared&quot;,//global全局模块的名字，如果不打包global可以不起名字
          &quot;formats&quot;: [
              &quot;esm-bundler&quot;,
              &quot;cjs&quot;
          ]
      }
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><center>shared包package.json</center> <ul><li>Step 6 - 在根目录下执行命令<code>yarn add typescript@^4.8.0 rollup@^3.2.3 rollup-plugin-typescript2@^0.34.1 @rollup/plugin-node-resolve@^15.0.1 @rollup/plugin-json@^5.0.1 @rollup/plugin-commonjs@^23.0.2 execa@^4.0.2 minimist@^1.2.0 -D -W</code>安装所需依赖和工具</li></ul> <div class="custom-block warning"><p class="custom-block-title">注意：-W参数</p> <p>意思是这些依赖是给当前项目的根目录安装的，不是给下面的某个包安装</p></div> <div class="custom-block tip"><p class="custom-block-title">依赖工具的用途</p> <ul><li><code>rollup</code>打包工具</li> <li><code>@rollup/plugin-node-resolve</code>rollup和第三方模块的桥梁</li> <li><code>@rollup/plugin-json</code>rollup和json的桥梁</li> <li><code>execa</code>开启子进程方便执行命令</li> <li><code>@rollup-plugin-typescript2</code>rollup和typescript的桥梁</li> <li><code>@rollup/plugin-commonjs</code>rollup和commonjs模块的桥梁</li> <li><code>minimist</code>轻量级的命令行参数解析引擎</li></ul></div> <ul><li>Step 7 - 在根目录下创建<code>scripts</code>目录并创建<code>dev.js</code>文件和<code>build.js</code>文件</li></ul> <div class="language-根目录下包package.json line-numbers-mode"><pre class="language-text"><code>    {
      &quot;private&quot;: true,//私有的
      &quot;workspaces&quot;: [//模块都在packages下统一管理
        &quot;packages/*&quot;
      ],
      &quot;name&quot;: &quot;test-vue3-src&quot;,
      &quot;version&quot;: &quot;1.0.0&quot;,
      &quot;description&quot;: &quot;vue3源码&quot;,
      &quot;main&quot;: &quot;index.js&quot;,
      &quot;author&quot;: &quot;ylx&quot;,
      &quot;license&quot;: &quot;MIT&quot;,
      &quot;scripts&quot;: {
        &quot;dev&quot;: &quot;node scripts/dev.js&quot;,//开发环境
        &quot;build&quot;: &quot;node scripts/build.js&quot;//生产环境
      },
      &quot;devDependencies&quot;: {
        &quot;@rollup/plugin-commonjs&quot;: &quot;^23.0.2&quot;,
        &quot;@rollup/plugin-json&quot;: &quot;^5.0.1&quot;,
        &quot;@rollup/plugin-node-resolve&quot;: &quot;^15.0.1&quot;,
        &quot;execa&quot;: &quot;^4.0.2&quot;,
        &quot;minimist&quot;: &quot;^1.2.0&quot;,
        &quot;rollup&quot;: &quot;^3.2.3&quot;,
        &quot;rollup-plugin-typescript2&quot;: &quot;^0.34.1&quot;,
        &quot;typescript&quot;: &quot;^4.8.0&quot;
      }
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><center>此时的根目录下包package.json</center> <ul><li>Step 8 - 实现<code>scripts/build.js</code>功能</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  //对packages目录下的所有模块都进行打包
  const fs = require('fs')//文件操作
  const execa = require('execa')//开启子进程，最终还是使用rollup打包

  const targets = fs.readdirSync('packages').filter((f) =&gt; {
      if (!fs.statSync(`packages/${f}`).isDirectory()) {
          return false
      }
      return true
  })//不加filter就是在根目录下的packages中找到所有的包目录和文件，filter可以过滤掉不是目录的文件
  console.info(`找到的所有包名：${targets}`)

  //找到目标后，我们需要依次并行打包之
  //打包函数，使用rollup进行打包
  async function build(target) {
      console.info(`需要打包的目标有：${target}`)
      // rollup -c --environment &quot;TARGET&quot;:xxxx 
      await execa(&quot;rollup&quot;, [&quot;-c&quot;, &quot;--environment&quot;, `TARGET:${target}`], { stdio: &quot;inherit&quot; })//stdio:&quot;inherit&quot;子进程打包的信息共享给父进程
  }

  //并行打包函数
  function runParallel(targets, iteratorFn) {//iteratorFn是迭代函数
      let res = []
      for (const iterator of targets) {
          const p = iteratorFn(iterator)//每个打包的过程都是一个promise
          res.push(p)
      }
      return Promise.all(res)//返回所有异步打包对象
  }

  //并行打包所有目标，没打包一个模块执行一次build
  runParallel(targets, build)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><center>build.js代码</center> <div class="language- line-numbers-mode"><pre class="language-text"><code>  {
    &quot;compilerOptions&quot;: {
      /* Visit https://aka.ms/tsconfig to read more about this file */

      /* Projects */
      // &quot;incremental&quot;: true,                              /* Save .tsbuildinfo files to allow for incremental compilation of projects. */
      // &quot;composite&quot;: true,                                /* Enable constraints that allow a TypeScript project to be used with project references. */
      // &quot;tsBuildInfoFile&quot;: &quot;./.tsbuildinfo&quot;,              /* Specify the path to .tsbuildinfo incremental compilation file. */
      // &quot;disableSourceOfProjectReferenceRedirect&quot;: true,  /* Disable preferring source files instead of declaration files when referencing composite projects. */
      // &quot;disableSolutionSearching&quot;: true,                 /* Opt a project out of multi-project reference checking when editing. */
      // &quot;disableReferencedProjectLoad&quot;: true,             /* Reduce the number of projects loaded automatically by TypeScript. */

      /* Language and Environment */
      &quot;target&quot;: &quot;ESNEXT&quot;,                                  /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */
      // &quot;lib&quot;: [],                                        /* Specify a set of bundled library declaration files that describe the target runtime environment. */
      // &quot;jsx&quot;: &quot;preserve&quot;,                                /* Specify what JSX code is generated. */
      // &quot;experimentalDecorators&quot;: true,                   /* Enable experimental support for TC39 stage 2 draft decorators. */
      // &quot;emitDecoratorMetadata&quot;: true,                    /* Emit design-type metadata for decorated declarations in source files. */
      // &quot;jsxFactory&quot;: &quot;&quot;,                                 /* Specify the JSX factory function used when targeting React JSX emit, e.g. 'React.createElement' or 'h'. */
      // &quot;jsxFragmentFactory&quot;: &quot;&quot;,                         /* Specify the JSX Fragment reference used for fragments when targeting React JSX emit e.g. 'React.Fragment' or 'Fragment'. */
      // &quot;jsxImportSource&quot;: &quot;&quot;,                            /* Specify module specifier used to import the JSX factory functions when using 'jsx: react-jsx*'. */
      // &quot;reactNamespace&quot;: &quot;&quot;,                             /* Specify the object invoked for 'createElement'. This only applies when targeting 'react' JSX emit. */
      // &quot;noLib&quot;: true,                                    /* Disable including any library files, including the default lib.d.ts. */
      // &quot;useDefineForClassFields&quot;: true,                  /* Emit ECMAScript-standard-compliant class fields. */
      // &quot;moduleDetection&quot;: &quot;auto&quot;,                        /* Control what method is used to detect module-format JS files. */

      /* Modules */
      &quot;module&quot;: &quot;ESNEXT&quot;,                                  /* Specify what module code is generated. */
      // &quot;rootDir&quot;: &quot;./&quot;,                                  /* Specify the root folder within your source files. */
      // &quot;moduleResolution&quot;: &quot;node&quot;,                       /* Specify how TypeScript looks up a file from a given module specifier. */
      // &quot;baseUrl&quot;: &quot;./&quot;,                                  /* Specify the base directory to resolve non-relative module names. */
      // &quot;paths&quot;: {},                                      /* Specify a set of entries that re-map imports to additional lookup locations. */
      // &quot;rootDirs&quot;: [],                                   /* Allow multiple folders to be treated as one when resolving modules. */
      // &quot;typeRoots&quot;: [],                                  /* Specify multiple folders that act like './node_modules/@types'. */
      // &quot;types&quot;: [],                                      /* Specify type package names to be included without being referenced in a source file. */
      // &quot;allowUmdGlobalAccess&quot;: true,                     /* Allow accessing UMD globals from modules. */
      // &quot;moduleSuffixes&quot;: [],                             /* List of file name suffixes to search when resolving a module. */
      // &quot;resolveJsonModule&quot;: true,                        /* Enable importing .json files. */
      // &quot;noResolve&quot;: true,                                /* Disallow 'import's, 'require's or '&lt;reference&gt;'s from expanding the number of files TypeScript should add to a project. */

      /* JavaScript Support */
      // &quot;allowJs&quot;: true,                                  /* Allow JavaScript files to be a part of your program. Use the 'checkJS' option to get errors from these files. */
      // &quot;checkJs&quot;: true,                                  /* Enable error reporting in type-checked JavaScript files. */
      // &quot;maxNodeModuleJsDepth&quot;: 1,                        /* Specify the maximum folder depth used for checking JavaScript files from 'node_modules'. Only applicable with 'allowJs'. */

      /* Emit */
      // &quot;declaration&quot;: true,                              /* Generate .d.ts files from TypeScript and JavaScript files in your project. */
      // &quot;declarationMap&quot;: true,                           /* Create sourcemaps for d.ts files. */
      // &quot;emitDeclarationOnly&quot;: true,                      /* Only output d.ts files and not JavaScript files. */
         &quot;sourceMap&quot;: true,                                /* Create source map files for emitted JavaScript files. */
      // &quot;outFile&quot;: &quot;./&quot;,                                  /* Specify a file that bundles all outputs into one JavaScript file. If 'declaration' is true, also designates a file that bundles all .d.ts output. */
      // &quot;outDir&quot;: &quot;./&quot;,                                   /* Specify an output folder for all emitted files. */
      // &quot;removeComments&quot;: true,                           /* Disable emitting comments. */
      // &quot;noEmit&quot;: true,                                   /* Disable emitting files from a compilation. */
      // &quot;importHelpers&quot;: true,                            /* Allow importing helper functions from tslib once per project, instead of including them per-file. */
      // &quot;importsNotUsedAsValues&quot;: &quot;remove&quot;,               /* Specify emit/checking behavior for imports that are only used for types. */
      // &quot;downlevelIteration&quot;: true,                       /* Emit more compliant, but verbose and less performant JavaScript for iteration. */
      // &quot;sourceRoot&quot;: &quot;&quot;,                                 /* Specify the root path for debuggers to find the reference source code. */
      // &quot;mapRoot&quot;: &quot;&quot;,                                    /* Specify the location where debugger should locate map files instead of generated locations. */
      // &quot;inlineSourceMap&quot;: true,                          /* Include sourcemap files inside the emitted JavaScript. */
      // &quot;inlineSources&quot;: true,                            /* Include source code in the sourcemaps inside the emitted JavaScript. */
      // &quot;emitBOM&quot;: true,                                  /* Emit a UTF-8 Byte Order Mark (BOM) in the beginning of output files. */
      // &quot;newLine&quot;: &quot;crlf&quot;,                                /* Set the newline character for emitting files. */
      // &quot;stripInternal&quot;: true,                            /* Disable emitting declarations that have '@internal' in their JSDoc comments. */
      // &quot;noEmitHelpers&quot;: true,                            /* Disable generating custom helper functions like '__extends' in compiled output. */
      // &quot;noEmitOnError&quot;: true,                            /* Disable emitting files if any type checking errors are reported. */
      // &quot;preserveConstEnums&quot;: true,                       /* Disable erasing 'const enum' declarations in generated code. */
      // &quot;declarationDir&quot;: &quot;./&quot;,                           /* Specify the output directory for generated declaration files. */
      // &quot;preserveValueImports&quot;: true,                     /* Preserve unused imported values in the JavaScript output that would otherwise be removed. */

      /* Interop Constraints */
      // &quot;isolatedModules&quot;: true,                          /* Ensure that each file can be safely transpiled without relying on other imports. */
      // &quot;allowSyntheticDefaultImports&quot;: true,             /* Allow 'import x from y' when a module doesn't have a default export. */
      &quot;esModuleInterop&quot;: true,                             /* Emit additional JavaScript to ease support for importing CommonJS modules. This enables 'allowSyntheticDefaultImports' for type compatibility. */
      // &quot;preserveSymlinks&quot;: true,                         /* Disable resolving symlinks to their realpath. This correlates to the same flag in node. */
      &quot;forceConsistentCasingInFileNames&quot;: true,            /* Ensure that casing is correct in imports. */

      /* Type Checking */
      &quot;strict&quot;: false,                                      /* Enable all strict type-checking options. */
      // &quot;noImplicitAny&quot;: true,                            /* Enable error reporting for expressions and declarations with an implied 'any' type. */
      // &quot;strictNullChecks&quot;: true,                         /* When type checking, take into account 'null' and 'undefined'. */
      // &quot;strictFunctionTypes&quot;: true,                      /* When assigning functions, check to ensure parameters and the return values are subtype-compatible. */
      // &quot;strictBindCallApply&quot;: true,                      /* Check that the arguments for 'bind', 'call', and 'apply' methods match the original function. */
      // &quot;strictPropertyInitialization&quot;: true,             /* Check for class properties that are declared but not set in the constructor. */
      // &quot;noImplicitThis&quot;: true,                           /* Enable error reporting when 'this' is given the type 'any'. */
      // &quot;useUnknownInCatchVariables&quot;: true,               /* Default catch clause variables as 'unknown' instead of 'any'. */
      // &quot;alwaysStrict&quot;: true,                             /* Ensure 'use strict' is always emitted. */
      // &quot;noUnusedLocals&quot;: true,                           /* Enable error reporting when local variables aren't read. */
      // &quot;noUnusedParameters&quot;: true,                       /* Raise an error when a function parameter isn't read. */
      // &quot;exactOptionalPropertyTypes&quot;: true,               /* Interpret optional property types as written, rather than adding 'undefined'. */
      // &quot;noImplicitReturns&quot;: true,                        /* Enable error reporting for codepaths that do not explicitly return in a function. */
      // &quot;noFallthroughCasesInSwitch&quot;: true,               /* Enable error reporting for fallthrough cases in switch statements. */
      // &quot;noUncheckedIndexedAccess&quot;: true,                 /* Add 'undefined' to a type when accessed using an index. */
      // &quot;noImplicitOverride&quot;: true,                       /* Ensure overriding members in derived classes are marked with an override modifier. */
      // &quot;noPropertyAccessFromIndexSignature&quot;: true,       /* Enforces using indexed accessors for keys declared using an indexed type. */
      // &quot;allowUnusedLabels&quot;: true,                        /* Disable error reporting for unused labels. */
      // &quot;allowUnreachableCode&quot;: true,                     /* Disable error reporting for unreachable code. */

      /* Completeness */
      // &quot;skipDefaultLibCheck&quot;: true,                      /* Skip type checking .d.ts files that are included with TypeScript. */
      &quot;skipLibCheck&quot;: true                                 /* Skip type checking all .d.ts files. */
    }
  }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br></div></div><center>此时的tsconfig.json配置</center> <ul><li>Step 9 - 实现<code>scripts/dev.js</code>功能</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code> //只针对某个具体的模块打包

 const fs = require('fs')//文件操作
 const execa = require('execa')//开启子进程，最终还是使用rollup打包

 // const targets = fs.readdirSync('packages').filter((f) =&gt; {
 //     if (!fs.statSync(`packages/${f}`).isDirectory()) {
 //         return false
 //     }
 //     return true
 // })//不加filter就是在根目录下的packages中找到所有的包目录和文件，filter可以过滤掉不是目录的文件
 // console.info(`找到的所有包名--------&gt;`, targets)

 const target = 'reactivity'//打包哪个模块就写哪个模块的名称

 //找到目标后，我们需要依次并行打包之
 //打包函数，使用rollup进行打包
 async function build(target) {
     console.info(`需要打包的目标有---------&gt;`, target)
     // rollup -cw --environment &quot;TARGET&quot;:xxxx (TARGET这个名字可以随便起，rollup.config.js里引用时对应上即可)  -cw可以一直监视文件是否有变化，有变化则自动打包
     await execa(&quot;rollup&quot;, [&quot;-cw&quot;, &quot;--environment&quot;, `TARGET:${target}`], { stdio: &quot;inherit&quot; })//stdio:&quot;inherit&quot;子进程打包的信息共享给父进程
 }

 build(target)

 //并行打包函数
 // function runParallel(targets, iteratorFn) {//iteratorFn是迭代函数
 //     let res = []
 //     for (const iterator of targets) {
 //         const p = iteratorFn(iterator)//每个打包的过程都是一个promise
 //         res.push(p)
 //     }
 //     return Promise.all(res)//返回所有异步打包对象
 // }

 // //并行打包所有目标，没打包一个模块执行一次build
 // runParallel(targets, build)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><center>dev.js打包代码</center> <ul><li>Step 10 - 根目录下创建<code>rollup.config.mjs</code>文件并实现功能</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>      //import execa from 'execa'
      const fs = require('fs')//加载node模块
      const execa = require('execa')

      // 1 获取模块目录
      //const dirs = fs.readdirSync('packages'); //使用fs核心模块读取packages下所有目录，包括文件
      //console.info(dirs);

      const dirs = fs.readdirSync('packages').filter(f =&gt; {
          if (!fs.statSync(`packages/${f}`).isDirectory()) {
              return false
          }
          return true
      }); //使用fs核心模块读取packages下所有目录，包括文件,使用filter方法过滤掉不是目录的文件名
      console.info(dirs);

      // 2 并行打包
      async function build(target) {
          console.info(target, '&lt;--build--&gt;');
          //rollup表示打包工具  -c表示执行rollup的配置  --environment环境变量
          await execa('rollup', ['-c', '--environment', `TARGET:${target}`], { stdio: 'inherit' });
      }

      async function runParaller(dirs, itemfn) {
          let result = [];
          for (let item of dirs) {
              result.push(itemfn(item));
          }
          return Promise.all(result);//存放打包的promise
      }

      runParaller(dirs, build).then(() =&gt; {
          console.info(&quot;打包成功&quot;);
      });
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div> <center>rollup.config.mjs代码</center> <h2 id="包之间相互引用"><a href="#包之间相互引用" class="header-anchor">#</a> 包之间相互引用</h2> <div class="custom-block tip"><p class="custom-block-title">安装包</p> <ul><li>执行yarn install 就可以在根目录下的node_modules中生成@vue/xxxx每个包的软链(快捷方式)</li> <li>在其他类中使用 import * from '@vue/xxxx'，即可引入相应的包中的函数、对象、变量</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">依赖包安装</p> <ul><li>yarn workspace @vue/reactivity add @vue/shared</li></ul></div></div></div>  <div class="page-edit"><div class="edit-link"><a href="https://github.com/yangliangxii/blogsitecode/edit/master/docs/Vue3源码解析/01.介绍及构建流程搭建.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=Vue3" title="标签">#Vue3</a><a href="/tags/?tag=Vue3%E4%BB%8B%E7%BB%8D%E5%8F%8A%E6%9E%84%E5%BB%BA%E6%B5%81%E7%A8%8B%E6%90%AD%E5%BB%BA" title="标签">#Vue3介绍及构建流程搭建</a></div> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/2f344d070a1031ef7/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Vue3源码解析(V3.2.45)-响应式源码分析与实现</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/2f344d070a1031ef7/">Vue3源码解析(V3.2.45)-响应式源码分析与实现</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/b1ab4930124ad2c10/"><div>
            浏览器模型
            <!----></div></a> <span class="date">12-14</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/3f344d070a1031ef7/"><div>
            Vue3源码解析(V3.2.45)-渲染原理及diff算法
            <!----></div></a> <span class="date">12-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/2f344d070a1031ef7/"><div>
            Vue3源码解析(V3.2.45)-响应式源码分析与实现
            <!----></div></a> <span class="date">12-07</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:287077203@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/yangliangxii" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
    Power from Vdoing| Copyright © 2019-2022
    <span>Yang Liangxi</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.d17989d2.js" defer></script><script src="/assets/js/2.712e115f.js" defer></script><script src="/assets/js/190.c11d9b2b.js" defer></script>
  </body>
</html>
